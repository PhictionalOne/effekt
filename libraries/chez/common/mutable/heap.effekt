module mutable/heap

extern type Ref[T]

extern io def fresh[T](init: T): Ref[T] =
    chez "(box ${init})"

extern io def put[T](ref: Ref[T], value: T): Unit =
    chez "(set-box! ${ref} ${value})"

extern io def get[T](ref: Ref[T]): T =
    chez "(unbox ${ref})"